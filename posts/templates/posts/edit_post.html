<!doctype html>
<html>
  <head>
    <title>Edit Post</title>
    <style>
      body {
        font-family: system-ui;
        max-width: 750px;
        margin: 40px auto;
      }
      input,
      select,
      textarea {
        width: 100%;
        padding: 12px;
        margin: 10px 0;
        border-radius: 10px;
        border: 1px solid #d1d5db;
      }
      button {
        padding: 12px 16px;
        background: #2563eb;
        color: white;
        border: 0;
        border-radius: 10px;
        cursor: pointer;
      }
      .err {
        color: #b91c1c;
        margin: 10px 0;
      }
      a {
        text-decoration: none;
        color: #2563eb;
      }
    </style>
  </head>
  <body>
    <h2>Edit Blog</h2>

    {% if error %}
    <div class="err">{{ error }}</div>
    {% endif %}

    <form method="POST">
      {% csrf_token %}

      <label>Title</label>
      <input type="text" name="title" value="{{ post.title }}" required />

      <label>Category</label>
      <select name="category" required>
        <option value="">Select category</option>
        {% for c in categories %}
        <option
          value="{{ c.id }}"
          {%
          if
          post.category
          and
          post.category.id=""
          ="c.id"
          %}selected{%
          endif
          %}
        >
          {{ c.name }}
        </option>
        {% endfor %}
      </select>

      <label>Content</label>
      <textarea name="content" rows="10" required>{{ post.content }}</textarea>

      <button type="submit">Update</button>
    </form>

    <p style="margin-top: 14px">
      <a href="/posts/{{ post.id }}/">Back to Post</a> â€¢
      <a href="/posts/my-posts/">My Posts</a>
    </p>
  </body>
</html>
